## GO

1. make和new差别，引用类型的意义

   make用于初始化**引用类型**的内存（channel、slice、map）。

   new用于分配**值类型**的内存并返回指向其类型零值的指针。

   **引用类型是指存储的是数据的地址而不是数据本身**，包括channel、slice、map，其他如指针（Pointer）也可以算作引用类型。

   引用类型的核心意义是通过共享内存实现高效的数据操作和灵活的编程模型。
2. 逃逸分析
3. channel的实现
4. gmp与gc，重点问题（网络io等待队列，读写屏障）
5. map的实现，重点问题（sync.map的实现，map实现随机的方法）
6. goroutine的状态有哪些？
7. goroutine相对于线程有哪些不同？

## mysql

1. 为什么用b+树不用b树

2. mvcc的理解

3. 幻读怎么解决

   “幻读”（phantom read）通常出现在数据库事务中，指在同一个事务中多次执行同一查询时，由于其他事务的插入、更新或删除操作导致查询结果不一致的问题。

   数据库事务隔离级别决定了数据库如何控制并发访问。常见隔离级别包括：

   - **读未提交（Read Uncommitted）**：无法防止幻读。
   - **读已提交（Read Committed）**：无法防止幻读。
   - **可重复读（Repeatable Read）**：无法完全防止幻读。
   - **可序列化（Serializable）**：可以完全防止幻读。

   #### **1. 序列化（Serializable）**

   - 序列化是最高级别的事务隔离级别，通过加锁机制或多版本并发控制（MVCC）保证：

     - 在事务 A 完成之前，事务 B 无法插入或修改事务 A 查询范围内的数据。

   - 实现方式：

     ```mysql
     SET TRANSACTION ISOLATION LEVEL SERIALIZABLE;
     BEGIN TRANSACTION;
     SELECT * FROM orders WHERE amount > 100;
     COMMIT;
     ```

   #### **2. 锁机制**

   使用显式或隐式的锁来防止其他事务对查询范围内数据的插入或修改：

   - 范围锁（Range Lock）

     ：

     - 范围锁可以阻止其他事务对查询范围内的数据进行插入或删除。
     - 一些数据库（如 MySQL 的 InnoDB 引擎）在可重复读隔离级别下，通过 Next-Key Lock 自动实现范围锁。

   - 显式锁：

     - 手动加锁确保其他事务无法修改数据：

       ```mysql
       SELECT * FROM orders WHERE amount > 100 FOR UPDATE;
       ```

   #### **3. MVCC（多版本并发控制）**

   - 一些数据库（如 PostgreSQL、MySQL InnoDB）通过 MVCC 实现可重复读和快照隔离，避免直接加锁带来的性能开销。
   - MVCC 在事务中提供了数据的快照版本：
     - 一个事务读取的始终是事务开始时的快照版本，避免了幻读的发生。

   #### **4. 数据库触发器**

   - 在某些场景下，可以使用触发器限制对某些表或范围数据的修改，防止其他事务插入可能引起幻读的数据。

   #### **5. 业务逻辑控制**

   - 如果无法完全依赖数据库的事务隔离，可以通过业务逻辑避免幻读。例如：
     - 事务中先对查询的范围进行记录锁定或状态标记，限制其他事务的插入操作。

   ### **如何选择解决方法**

   1. **性能优先**：如果高性能是第一目标，使用 MVCC 或适当的锁机制避免幻读，同时保持较低隔离级别。
   2. **数据一致性优先**：如果事务一致性至关重要，选择 **Serializable** 隔离级别。
   3. 场景驱动：
      - **频繁插入场景**：优先使用 MVCC。
      - **低并发场景**：使用范围锁或 Serializable 隔离级别。

4. redo、undo的作用和实现

5. 事务的实现，事务各个特性是怎么实现的？

6. 索引怎么建

7. 联合索引最左前缀

8. 聚簇索引与回表

9. 事务的隔离级别有哪些？mysql 默认是什么级别？

10. 

## redis

1. 底层数据结构和实现（压缩列表）
2. aof、rdb
3. 为什么使用跳表
4. 分布式锁与redlock
5. 三种分布式结构
6. 大key

## 网络

## 设计模式



## 算法

## 分布式服务概念